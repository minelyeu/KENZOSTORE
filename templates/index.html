<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KENZO STORE ‚Äî –ú–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <style>
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <div class="nav-brand">
          <span class="brand-text">KENZO STORE</span>
        </div>
        <div class="nav-links-wrapper">
          <ul class="nav-main">
            <li><a href="#catalog">–ö–∞—Ç–∞–ª–æ–≥</a></li>
            <li><a href="#reviews">–û—Ç–∑—ã–≤—ã</a></li>
            <li><a href="#track">–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ</a></li>
            <li><a href="#buy">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
          </ul>
          <ul class="nav-auth">
            <li><a href="{{ url_for('cart') }}" style="position: relative;">
              –ö–æ—Ä–∑–∏–Ω–∞
              {% if cart_count > 0 %}
              <span style="position: absolute; top: -8px; right: -8px; background: var(--accent); color: var(--primary); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: 700;">{{ cart_count }}</span>
              {% endif %}
            </a></li>
            {% if user %}
            <li><a href="{{ url_for('my_orders') }}">–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã</a></li>
            {% if is_admin %}
            <li><a href="{{ url_for('admin') }}">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a></li>
            {% endif %}
            <li><a href="{{ url_for('logout') }}">–í—ã–π—Ç–∏ ({{ user }})</a></li>
            {% else %}
            <li><a href="{{ url_for('login') }}">–í–æ–π—Ç–∏</a></li>
            <li><a href="{{ url_for('register') }}">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></li>
            {% endif %}
          </ul>
        </div>
      </nav>

      <div class="hero">
        <div class="hero-text">
          <div class="hero-badge">‚ú® –ü—Ä–µ–º–∏—É–º –∫–∞—á–µ—Å—Ç–≤–æ</div>
          <h1>KENZO STORE ‚Äî –Ω–∞–¥—ë–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω —Å —Ç–µ—Ö–Ω–∏–∫–æ–π Apple</h1>
          <p>–ú—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–¥–∞—ë–º —Ç–µ—Ö–Ω–∏–∫—É ‚Äî –º—ã –¥–∞—ë–º —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å. –ü–æ–∫—É–ø–∫–∞ —Å –Ω–∞–º–∏ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–æ—Å—Ç–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∏ –ø—Ä–∏—è—Ç–Ω–æ–π: –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —á–µ—Å—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –ª—É—á—à–∏–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫–∏ Apple.</p>
          <div class="hero-features">
            <div class="feature-item">
              <span class="feature-icon">üöö</span>
              <span>–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</span>
            </div>
            <div class="feature-item">
              <span class="feature-icon">‚úì</span>
              <span>–û—Ä–∏–≥–∏–Ω–∞–ª 100%</span>
            </div>
            <div class="feature-item">
              <span class="feature-icon">üõ°Ô∏è</span>
              <span>–ì–∞—Ä–∞–Ω—Ç–∏—è</span>
            </div>
          </div>
          <a class="cta" href="#catalog">
            <span>–°–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥</span>
            <span class="cta-arrow">‚Üí</span>
          </a>
        </div>
        <div class="hero-visual">
          <div class="floating-card card-1">üéß</div>
          <div class="floating-card card-2">‚åö</div>
          <div class="floating-card card-3">‚ö°</div>
        </div>
      </div>
    </div>
  </header>

  <section class="stats-section">
    <div class="container">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">1000+</div>
          <div class="stat-label">–î–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">24/7</div>
          <div class="stat-label">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">100%</div>
          <div class="stat-label">–û—Ä–∏–≥–∏–Ω–∞–ª</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">1-2</div>
          <div class="stat-label">–î–Ω—è –¥–æ—Å—Ç–∞–≤–∫–∞</div>
        </div>
      </div>
    </div>
  </section>

  <section id="trust" class="trust-section">
    <div class="container">
      <div class="trust-header">
        <div class="trust-badge">–í—Å—ë –¥–ª—è –≤–∞—à–µ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏</div>
        <h2>–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç KENZO STORE?</h2>
        <p>–ß–µ—Å—Ç–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ª–æ–≤–æ –¥–ª—è –Ω–∞—Å, –∞ –æ—Å–Ω–æ–≤–∞ –≤—Å–µ–≥–æ, —á—Ç–æ –º—ã –¥–µ–ª–∞–µ–º. –° –Ω–∞–º–∏ –≤—ã –∑–∞–±—ã–≤–∞–µ—Ç–µ –æ —Ä–∏—Å–∫–∞—Ö –∏ —Å–æ—Å—Ä–µ–¥–æ—Ç–∞—á–∏–≤–∞–µ—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–º ‚Äî –∫–∞—á–µ—Å—Ç–≤–µ –∏ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–∏ –æ—Ç —Ç–µ—Ö–Ω–∏–∫–∏ Apple.</p>
      </div>
      <div class="trust-grid">
        <div class="trust-card">
          <div class="trust-icon">üì∏</div>
          <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç—á—ë—Ç</h3>
          <p>–û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ –≤–∞—à–µ–≥–æ –∑–∞–∫–∞–∑–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π, —á—Ç–æ–±—ã –≤—ã –∑–∞—Ä–∞–Ω–µ–µ —É–±–µ–¥–∏–ª–∏—Å—å –≤ –∏–¥–µ–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ç–µ—Ö–Ω–∏–∫–∏.</p>
        </div>
        <div class="trust-card">
          <div class="trust-icon">üõ°Ô∏è</div>
          <h3>–ì–∞—Ä–∞–Ω—Ç–∏—è 30 –¥–Ω–µ–π</h3>
          <p>–ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—Å—è –±—Ä–∞–∫ ‚Äî –±—ã—Å—Ç—Ä–æ —Ä–µ—à–∏–º –≤–æ–ø—Ä–æ—Å: –∑–∞–º–µ–Ω–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–ª–∏ –≤–µ—Ä–Ω—ë–º –¥–µ–Ω—å–≥–∏ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤.</p>
        </div>
        <div class="trust-card">
          <div class="trust-icon">‚ö°</div>
          <h3>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ –∏ –Ω–∞ —Å–≤—è–∑–∏</h3>
          <p>–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –¥–µ–Ω—å –∑–∞–∫–∞–∑–∞ –∏ –æ—Å—Ç–∞—ë–º—Å—è –Ω–∞ —Å–≤—è–∑–∏ —Å –≤–∞–º–∏ ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–≤–µ—Ç–∏—Ç –µ—â—ë –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Ç–µ—Ö–Ω–∏–∫–∞ –±—É–¥–µ—Ç –≤ –≤–∞—à–∏—Ö —Ä—É–∫–∞—Ö.</p>
        </div>
        <div class="trust-card">
          <div class="trust-icon">‚ú®</div>
          <h3>–ß–µ—Å—Ç–Ω—ã–µ —Ñ–æ—Ç–æ</h3>
          <p>–ü–æ–ª—É—á–∞–µ—Ç–µ –∏–º–µ–Ω–Ω–æ —Ç–æ—Ç —Ç–æ–≤–∞—Ä, —á—Ç–æ –≤–∏–¥–∏—Ç–µ –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è—Ö. –ë–µ–∑ —Å—é—Ä–ø—Ä–∏–∑–æ–≤ –∏ —Å–∫—Ä—ã—Ç—ã—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤.</p>
        </div>
      </div>
      <div class="trust-cta">
        <div>
          <strong>–•–æ—Ç–∏—Ç–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –∏–ª–∏ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑?</strong>
          <span>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º ‚Äî –ø–æ–º–æ–∂–µ–º –≤—ã–±—Ä–∞—Ç—å –∏ —Ä–∞—Å—Å–∫–∞–∂–µ–º –≤—Å—ë, —á—Ç–æ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å.</span>
        </div>
        <a class="cta" href="#buy">
          <span>–ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º</span>
          <span class="cta-arrow">‚Üí</span>
        </a>
      </div>
    </div>
  </section>

  <section id="catalog" class="catalog">
    <div class="container">
      <div class="section-header">
        <h2 class="catalog-title">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h2>
        <p class="catalog-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –Ω–∞–π–¥–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω—É—é —Ç–µ—Ö–Ω–∏–∫—É –¥–ª—è —Å–µ–±—è</p>
      </div>
      {% for category in products %}
      <div class="category-section">
        <div class="category-header">
          <span class="category-emoji">{{ category.emoji }}</span>
          <div>
            <h3 class="category-name">{{ category.name }}</h3>
            <span class="category-name-en">{{ category.name_en }}</span>
          </div>
        </div>
        <div class="products-grid">
          {% for item in category.products %}
          <div class="product-item" data-category="{{ category.key }}" data-index="{{ loop.index0 }}" style="cursor: pointer;">
            {% if item.image %}
            <div class="product-image-wrapper">
              <img src="{{ url_for('static', filename=item.image) }}" alt="{{ item.name }}" class="product-image">
            </div>
            {% else %}
            <div class="product-image-placeholder">
              <span class="placeholder-icon">{{ category.emoji }}</span>
              <span class="placeholder-text">–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
            </div>
            {% endif %}
            <div class="product-name">{{ item.name }}</div>
            <div class="product-price-wrapper">
              <span class="product-price">{{ item.price }}‚ÇΩ</span>
            </div>
            <form method="POST" action="{{ url_for('add_to_cart') }}" class="add-to-cart-form" style="width: 100%;" onclick="event.stopPropagation();">
              <input type="hidden" name="category" value="{{ category.key }}">
              <input type="hidden" name="product_index" value="{{ loop.index0 }}">
              <input type="hidden" name="quantity" value="1">
              <button type="submit" class="product-btn add-to-cart-btn" style="width: 100%; border: none; cursor: pointer;">
                <span>–í –∫–æ—Ä–∑–∏–Ω—É</span>
                <span class="btn-icon">üõí</span>
              </button>
            </form>
          </div>
          {% endfor %}
        </div>
      </div>
      {% endfor %}
    </div>
  </section>

  <section id="reviews" class="reviews">
    <div class="container">
      <div class="section-header">
        <h2>–û—Ç–∑—ã–≤—ã –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
        <p class="section-subtitle">–ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –æ –Ω–∞—Å –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏</p>
      </div>
      <div class="reviews-grid">
        <div class="review-card">
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <strong>–ú–∞–∫—Å, –ú–æ—Å–∫–≤–∞</strong>
          <p>¬´KENZO STORE –¥–æ—Å—Ç–∞–≤–∏–ª –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å! AirPods –¥–∞—é—Ç —á–∏—Å—Ç—ã–π –±–∞—Å –∏ —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ –∫–æ—Å–º–æ—Å.¬ª</p>
        </div>
        <div class="review-card">
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <strong>–ö–∞—Ç—è, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</strong>
          <p>¬´–°—Ç–∏–ª—å–Ω—ã–π –∫–µ–π—Å, —É–¥–æ–±–Ω–æ –≤ —É—à–∞—Ö, –∑–≤—É–∫ —Ç–æ–ø. –ü–æ–∫—É–ø–∞–ª–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ ‚Äî –≤–µ–∑–¥–µ –∏–¥–µ–∞–ª—å–Ω–æ.¬ª</p>
        </div>
        <div class="review-card">
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <strong>–ò–ª—å—è, –ö–∞–∑–∞–Ω—å</strong>
          <p>¬´–õ—É—á—à–∏–µ –Ω–∞—É—à–Ω–∏–∫–∏, —á—Ç–æ —É –º–µ–Ω—è –±—ã–ª–∏. –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∞—É–¥–∏–æ ‚Äî –±—É–¥—Ç–æ –≤ —Å—Ç—É–¥–∏–∏.¬ª</p>
        </div>
      </div>
    </div>
  </section>

  <section id="buy" class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2>–ì–æ—Ç–æ–≤ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑?</h2>
        <p>–°–≤—è–∂–∏—Å—å —Å –Ω–∞–º–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å ‚Äî –æ—Ñ–æ—Ä–º–∏–º –∑–∞–∫–∞–∑ –∑–∞ 15 –º–∏–Ω—É—Ç. –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏.</p>
      <div class="contact-card">
        <div>
          <strong>+7 (900) 555-77-88</strong>
          <span>–ü–æ–∑–≤–æ–Ω–∏ ‚Äî –∑–∞ 15 –º–∏–Ω—É—Ç –≤—Å—ë –æ—Ñ–æ—Ä–º–∏–º</span>
        </div>
        <a class="cta" href="https://t.me/amisoeu" target="_blank">
          <span>–°–≤—è–∑–∞—Ç—å—Å—è</span>
          <span class="cta-arrow">‚Üí</span>
        </a>
      </div>
      </div>
    </div>
  </section>

  <section id="track" class="track-section" style="padding: 60px 0; background: var(--bg-light);">
    <div class="container">
      <div class="section-header" style="text-align: center; margin-bottom: 40px;">
        <h2 style="color: var(--text); font-size: 2rem; margin-bottom: 10px;">üì¶ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
        <p style="color: var(--text-muted);">–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞</p>
      </div>
      <div style="max-width: 500px; margin: 0 auto;">
        <form method="GET" action="{{ url_for('track_order', order_number='') }}" style="display: flex; gap: 10px;">
          <input type="text" name="order_number" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: ORD-20250101120000-ABC123)" required style="flex: 1; padding: 14px 16px; background: var(--bg); border: 2px solid rgba(245, 178, 0, 0.2); border-radius: 8px; color: var(--text); font-size: 1rem; font-family: 'Montserrat', sans-serif;">
          <button type="submit" class="cta" style="padding: 14px 24px; white-space: nowrap;">
            <span>–û—Ç—Å–ª–µ–¥–∏—Ç—å</span>
          </button>
        </form>
        <script>
          document.querySelector('form[action*="track"]').addEventListener('submit', function(e) {
            e.preventDefault();
            const orderNumber = this.querySelector('input[name="order_number"]').value.trim();
            if (orderNumber) {
              window.location.href = '/track/' + encodeURIComponent(orderNumber);
            }
          });
        </script>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      ¬© 2025 KENZO STORE. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä Apple.
    </div>
  </footer>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —Ç–æ–≤–∞—Ä–∞ -->
  <div id="productModal" class="product-modal" style="display: none;">
    <div class="product-modal-overlay" onclick="closeProductModal()"></div>
    <div class="product-modal-content">
      <button class="product-modal-close" onclick="closeProductModal()">√ó</button>
      <div class="product-modal-body">
        <div class="product-modal-image-wrapper">
          <img id="modalProductImage" src="" alt="" class="product-modal-image" style="display: none;">
          <div id="modalProductImagePlaceholder" class="product-modal-image-placeholder" style="display: none;">
            <span id="modalProductEmoji" class="placeholder-icon"></span>
            <span class="placeholder-text">–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
          </div>
        </div>
        <div class="product-modal-info">
          <div class="product-modal-category">
            <span id="modalProductCategoryEmoji"></span>
            <span id="modalProductCategoryName"></span>
          </div>
          <h2 id="modalProductName" class="product-modal-name"></h2>
          <div class="product-modal-price-wrapper">
            <span id="modalProductPrice" class="product-modal-price"></span>
          </div>
          <div id="modalProductDescription" class="product-modal-description" style="display: none;">
            <h3 class="product-modal-section-title">–û–ø–∏—Å–∞–Ω–∏–µ</h3>
            <p id="modalProductDescriptionText"></p>
          </div>
          <div id="modalProductSpecs" class="product-modal-specs" style="display: none;">
            <h3 class="product-modal-section-title">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h3>
            <ul id="modalProductSpecsList" class="product-modal-specs-list"></ul>
          </div>
          <form method="POST" action="{{ url_for('add_to_cart') }}" class="add-to-cart-form-modal" style="width: 100%; margin-top: 20px;">
            <input type="hidden" name="category" id="modalProductCategoryKey">
            <input type="hidden" name="product_index" id="modalProductIndex">
            <input type="hidden" name="quantity" value="1">
            <button type="submit" class="product-modal-btn add-to-cart-btn-modal">
              <span>–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</span>
              <span class="btn-icon">üõí</span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <style>
    .product-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .product-modal-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(4px);
    }
    .product-modal-content {
      position: relative;
      background: var(--bg-light);
      border: 2px solid rgba(245, 178, 0, 0.3);
      border-radius: 20px;
      max-width: 800px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      z-index: 10001;
      animation: modalSlideIn 0.3s ease;
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* IE and Edge */
    }
    .product-modal-content::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }
    @keyframes modalSlideIn {
      from {
        transform: scale(0.9);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }
    .product-modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 40px;
      height: 40px;
      background: rgba(244, 67, 54, 0.2);
      color: #f44336;
      border: 2px solid rgba(244, 67, 54, 0.5);
      border-radius: 50%;
      font-size: 24px;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10002;
      transition: all 0.2s ease;
    }
    .product-modal-close:hover {
      background: rgba(244, 67, 54, 0.3);
      transform: scale(1.1);
    }
    .product-modal-body {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      padding: 40px;
    }
    @media (max-width: 768px) {
      .product-modal-body {
        grid-template-columns: 1fr;
        padding: 30px 20px;
      }
    }
    .product-modal-image-wrapper {
      width: 100%;
      aspect-ratio: 1;
      border-radius: 16px;
      overflow: hidden;
      border: 2px solid rgba(245, 178, 0, 0.2);
    }
    .product-modal-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .product-modal-image-placeholder {
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.05);
      border: 2px dashed rgba(245, 178, 0, 0.3);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
    }
    .product-modal-image-placeholder .placeholder-icon {
      font-size: 4rem;
      margin-bottom: 10px;
    }
    .product-modal-info {
      display: flex;
      flex-direction: column;
    }
    .product-modal-category {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text-muted);
      font-size: 0.9rem;
      margin-bottom: 10px;
    }
    .product-modal-category span:first-child {
      font-size: 1.2rem;
    }
    .product-modal-name {
      color: var(--text);
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 20px;
      line-height: 1.2;
    }
    .product-modal-price-wrapper {
      margin-bottom: 20px;
    }
    .product-modal-price {
      color: var(--accent);
      font-size: 2.5rem;
      font-weight: 700;
    }
    .product-modal-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, var(--accent) 0%, #ffc107 100%);
      color: var(--primary);
      border: none;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .product-modal-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(245, 178, 0, 0.4);
    }
    .product-modal-btn:active {
      transform: translateY(0);
    }
    .product-modal-section-title {
      color: var(--text);
      font-size: 1.2rem;
      font-weight: 700;
      margin: 20px 0 10px 0;
    }
    .product-modal-description {
      margin: 20px 0;
    }
    .product-modal-description p {
      color: var(--text);
      line-height: 1.6;
      font-size: 1rem;
    }
    .product-modal-specs {
      margin: 20px 0;
    }
    .product-modal-specs-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .product-modal-specs-list li {
      color: var(--text);
      padding: 8px 0;
      border-bottom: 1px solid rgba(245, 178, 0, 0.1);
      font-size: 0.95rem;
      line-height: 1.5;
    }
    .product-modal-specs-list li:last-child {
      border-bottom: none;
    }
    .product-modal-specs-list li::before {
      content: "‚úì ";
      color: var(--accent);
      font-weight: 700;
      margin-right: 8px;
    }
  </style>

  <script>
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞
    document.addEventListener('DOMContentLoaded', function() {
      const productItems = document.querySelectorAll('.product-item');
      
      productItems.forEach(item => {
        item.addEventListener('click', function(e) {
          // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –∫–ª–∏–∫, –µ—Å–ª–∏ –æ–Ω –Ω–∞ —Ñ–æ—Ä–º–µ –∏–ª–∏ –∫–Ω–æ–ø–∫–µ
          if (e.target.closest('.add-to-cart-form') || e.target.closest('.product-btn')) {
            return;
          }
          
          const category = this.getAttribute('data-category');
          const index = this.getAttribute('data-index');
          
          if (category && index !== null) {
            openProductModal(category, parseInt(index));
          }
        });
      });
    });
    
    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function openProductModal(categoryKey, productIndex) {
      fetch(`/product/${categoryKey}/${productIndex}`)
        .then(response => response.json())
        .then(data => {
          if (data.error) {
            showNotification(data.error, 'error');
            return;
          }
          
          // –ó–∞–ø–æ–ª–Ω—è–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–∞–Ω–Ω—ã–º–∏
          document.getElementById('modalProductName').textContent = data.name;
          document.getElementById('modalProductPrice').textContent = data.price + '‚ÇΩ';
          document.getElementById('modalProductCategoryEmoji').textContent = data.category_emoji;
          document.getElementById('modalProductCategoryName').textContent = data.category_name;
          document.getElementById('modalProductCategoryKey').value = data.category_key;
          document.getElementById('modalProductIndex').value = data.product_index;
          
          // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
          const image = document.getElementById('modalProductImage');
          const placeholder = document.getElementById('modalProductImagePlaceholder');
          const emoji = document.getElementById('modalProductEmoji');
          
          if (data.image) {
            image.src = `/static/${data.image}`;
            image.style.display = 'block';
            placeholder.style.display = 'none';
          } else {
            emoji.textContent = data.category_emoji;
            image.style.display = 'none';
            placeholder.style.display = 'flex';
          }
          
          // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è
          const descriptionDiv = document.getElementById('modalProductDescription');
          const descriptionText = document.getElementById('modalProductDescriptionText');
          if (data.description && data.description.trim()) {
            descriptionText.textContent = data.description;
            descriptionDiv.style.display = 'block';
          } else {
            descriptionDiv.style.display = 'none';
          }
          
          // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
          const specsDiv = document.getElementById('modalProductSpecs');
          const specsList = document.getElementById('modalProductSpecsList');
          if (data.specs && data.specs.length > 0) {
            specsList.innerHTML = '';
            data.specs.forEach(spec => {
              const li = document.createElement('li');
              li.textContent = spec;
              specsList.appendChild(li);
            });
            specsDiv.style.display = 'block';
          } else {
            specsDiv.style.display = 'none';
          }
          
          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
          document.getElementById('productModal').style.display = 'flex';
          document.body.style.overflow = 'hidden';
        })
        .catch(error => {
          console.error('Error:', error);
          showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–µ', 'error');
        });
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function closeProductModal() {
      document.getElementById('productModal').style.display = 'none';
      document.body.style.overflow = '';
    }
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeProductModal();
      }
    });
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É —á–µ—Ä–µ–∑ AJAX
    document.addEventListener('DOMContentLoaded', function() {
      const forms = document.querySelectorAll('.add-to-cart-form');
      
      forms.forEach(form => {
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          
          const btn = form.querySelector('.add-to-cart-btn');
          const originalText = btn.innerHTML;
          
          // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
          btn.disabled = true;
          btn.innerHTML = '<span>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ...</span>';
          
          // –°–æ–∑–¥–∞–µ–º FormData
          const formData = new FormData(form);
          
          // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º AJAX –∑–∞–ø—Ä–æ—Å
          fetch(form.action, {
            method: 'POST',
            body: formData,
            headers: {
              'X-Requested-With': 'XMLHttpRequest'
            }
          })
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∑–∏–Ω—ã
              const cartLink = document.querySelector('a[href*="cart"]');
              if (cartLink) {
                let badge = cartLink.querySelector('span');
                if (data.cart_count > 0) {
                  if (!badge) {
                    badge = document.createElement('span');
                    badge.style.cssText = 'position: absolute; top: -8px; right: -8px; background: var(--accent); color: var(--primary); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: 700;';
                    cartLink.style.position = 'relative';
                    cartLink.appendChild(badge);
                  }
                  badge.textContent = data.cart_count;
                } else if (badge) {
                  badge.remove();
                }
              }
              
              // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
              showNotification(data.message, 'success');
              
              // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
              btn.innerHTML = originalText;
              btn.disabled = false;
            } else {
              showNotification(data.message || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
              btn.innerHTML = originalText;
              btn.disabled = false;
            }
          })
          .catch(error => {
            console.error('Error:', error);
            showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
            btn.innerHTML = originalText;
            btn.disabled = false;
          });
        });
      });
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
      const modalForm = document.querySelector('.add-to-cart-form-modal');
      if (modalForm) {
        modalForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          const btn = this.querySelector('.add-to-cart-btn-modal');
          const originalText = btn.innerHTML;
          
          // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
          btn.disabled = true;
          btn.innerHTML = '<span>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ...</span>';
          
          // –°–æ–∑–¥–∞–µ–º FormData
          const formData = new FormData(this);
          
          // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º AJAX –∑–∞–ø—Ä–æ—Å
          fetch(this.action, {
            method: 'POST',
            body: formData,
            headers: {
              'X-Requested-With': 'XMLHttpRequest'
            }
          })
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∑–∏–Ω—ã
              const cartLink = document.querySelector('a[href*="cart"]');
              if (cartLink) {
                let badge = cartLink.querySelector('span');
                if (data.cart_count > 0) {
                  if (!badge) {
                    badge = document.createElement('span');
                    badge.style.cssText = 'position: absolute; top: -8px; right: -8px; background: var(--accent); color: var(--primary); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: 700;';
                    cartLink.style.position = 'relative';
                    cartLink.appendChild(badge);
                  }
                  badge.textContent = data.cart_count;
                } else if (badge) {
                  badge.remove();
                }
              }
              
              // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
              showNotification(data.message, 'success');
              
              // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
              btn.innerHTML = originalText;
              btn.disabled = false;
              
              // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
              setTimeout(() => {
                closeProductModal();
              }, 500);
            } else {
              showNotification(data.message || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
              btn.innerHTML = originalText;
              btn.disabled = false;
            }
          })
          .catch(error => {
            console.error('Error:', error);
            showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
            btn.innerHTML = originalText;
            btn.disabled = false;
          });
        });
      }
    });
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    function showNotification(message, type) {
      // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å
      const existing = document.querySelector('.cart-notification');
      if (existing) {
        existing.remove();
      }
      
      // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      const notification = document.createElement('div');
      notification.className = 'cart-notification';
      notification.textContent = message;
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 16px 24px;
        background: ${type === 'success' ? 'rgba(76, 175, 80, 0.95)' : 'rgba(244, 67, 54, 0.95)'};
        color: white;
        border-radius: 8px;
        font-weight: 600;
        z-index: 10000;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        animation: slideIn 0.3s ease;
      `;
      
      document.body.appendChild(notification);
      
      // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => notification.remove(), 300);
      }, 3000);
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slideOut {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>
